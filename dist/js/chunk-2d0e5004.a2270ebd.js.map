{"version":3,"sources":["webpack:///./src/components/Api/ApiList.vue","webpack:///./src/components/Api/ApiList.vue?db01"],"names":["id","type","input","createHandler","contents","item","index","key","content","updateHandler","deleteHandler","axios","default","apiUrl","data","computed","this","$store","state","mounted","dispatch","created","methods","post","then","res","commit","target","$router","push","name","params","render"],"mappings":"4IACOA,GAAG,e,2GAAR,yBAWM,MAXN,EAWM,CATJ,yBAA+F,U,4BAA5F,yBAA0C,SAAnCC,KAAK,O,qDAAqB,EAAAC,MAAK,K,4BAAL,EAAAA,W,SAAd,MAAuB,yBAA8C,UAArC,QAAK,8BAAE,EAAAC,cAAA,sBAAe,YAC5E,yBAMK,Y,2BALH,yBAIK,2CAJuB,EAAAC,UAAQ,SAAxBC,EAAMC,G,gCAAlB,yBAIK,MAJkCC,IAAKF,EAAKL,I,2DAC7CK,EAAKG,SAAS,IAChB,4BAAqD,UAA5C,QAAK,mBAAE,EAAAC,cAAcH,KAAQ,SAAM,eAC5C,yBAAqD,UAA5C,QAAK,mBAAE,EAAAI,cAAcJ,KAAQ,SAAM,oB,QAGhD,yBAAe,KAKnB,IAAMK,EAAQ,EAAQ,QAASC,QACzBC,EAAS,8BACA,GACbC,KADa,WAEX,MAAO,CAELZ,MAAO,KAGXa,SAAU,CACRX,SADQ,WAEN,OAAOY,KAAKC,OAAOC,MAAMd,WAG7Be,QAZa,WAaXH,KAAKC,OAAOG,SAAS,iBAMvBC,QAnBa,aAqBbC,QAAS,CACPnB,cADO,WACU,WACf,IAAKa,KAAKd,MAAO,OAAO,EAGxBS,EAAMY,KAAKV,EAAQ,CACjBL,QAASQ,KAAKd,QACbsB,MAAK,SAACC,GACP,EAAKvB,MAAQ,GAGb,EAAKe,OAAOS,OAAO,cAAeD,EAAIX,UAG1CJ,cAdO,SAcQV,GAKb,IAAM2B,EAASX,KAAKZ,SAASJ,GAC7BgB,KAAKC,OAAOG,SAAS,gBAAiB,CAAEO,YAE1ClB,cAtBO,SAsBQT,GAEb,IAAM2B,EAASX,KAAKZ,SAASJ,GAE7BgB,KAAKY,QAAQC,KAAK,CAAEC,KAAM,UAAWC,OAAQ,CAAE/B,GAAI2B,EAAO3B,SC9DhE,EAAOgC,OAASA,EAED","file":"js/chunk-2d0e5004.a2270ebd.js","sourcesContent":["<template>\n  <div id=\"commentList\">\n    <!-- trim去頭尾空白 -->\n    <p><input type=\"text\" v-model.trim=\"input\" /><button @click=\"createHandler\">create</button></p>\n    <ul>\n      <li v-for=\"(item, index) in contents\" :key=\"item.id\">\n        {{item.content}}\n        <button @click=\"updateHandler(index)\">updata</button>\n        <button @click=\"deleteHandler(index)\">delete</button>\n      </li>\n    </ul>\n    <router-view />\n  </div>\n</template>\n\n<script>\nconst axios = require('axios').default\nconst apiUrl = 'http://localhost:3000/users'\nexport default {\n  data () {\n    return {\n      // contents: [],\n      input: ''\n    }\n  },\n  computed: {\n    contents () {\n      return this.$store.state.contents\n    }\n  },\n  mounted () {\n    this.$store.dispatch('contentsRead')\n    // axios.get(apiUrl).then((res) => {\n    //   // 取得資料，存入component裡data\n    //   this.contents = res.data\n    // })\n  },\n  created () {\n  },\n  methods: {\n    createHandler () {\n      if (!this.input) return false\n      // add data to axios.post\n      // api -> json-server auto reload -> data change -> live server (error) -> close live server json file\n      axios.post(apiUrl, {\n        content: this.input\n      }).then((res) => {\n        this.input = ''\n        // this.contents.push(res.data)\n        // 1.action->mutations or 2.mutations(v)\n        this.$store.commit('addContents', res.data)\n      })\n    },\n    deleteHandler (id) {\n      // axios.delete(`http://localhost:3000/users/${this.contents[id].id}`).then((res) => {\n      //   this.contents.splice(id, 1)\n      // })\n      // 1.action->mutations(v) or 2.mutations\n      const target = this.contents[id]\n      this.$store.dispatch('contentDelete', { target })\n    },\n    updateHandler (id) {\n      // 需頁面轉換，透過router\n      const target = this.contents[id]\n      // this.$router.push({ path: '/vue3/Api/update/' + target.id }) // 會有上下頁紀錄\n      this.$router.push({ name: 'ApiEdit', params: { id: target.id } }) // 會有上下頁紀錄\n      // this.$router.replace({ path: `/vue3/Api/update/${target.id}` })\n      // axios.update(`http://localhost:3000/users/${this.contents[id].id}`).then((res) => {\n      //   this.contents.splice(id, 1)\n      //   console.log(res)\n      // })\n    }\n  }\n}\n</script>\n","import { render } from \"./ApiList.vue?vue&type=template&id=d60e829c\"\nimport script from \"./ApiList.vue?vue&type=script&lang=js\"\nexport * from \"./ApiList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}