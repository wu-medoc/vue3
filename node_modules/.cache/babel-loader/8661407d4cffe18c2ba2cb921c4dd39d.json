{"remainingRequest":"/Users/mei/github/vue3/node_modules/thread-loader/dist/cjs.js!/Users/mei/github/vue3/node_modules/babel-loader/lib/index.js!/Users/mei/github/vue3/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/mei/github/vue3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mei/github/vue3/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/mei/github/vue3/src/components/Api/ApiList.vue?vue&type=template&id=d60e829c","dependencies":[{"path":"/Users/mei/github/vue3/src/components/Api/ApiList.vue","mtime":1617099061921},{"path":"/Users/mei/github/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mei/github/vue3/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mei/github/vue3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mei/github/vue3/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/mei/github/vue3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mei/github/vue3/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgaWQ6ICJjb21tZW50TGlzdCIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfdmlldyA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItdmlldyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoInAiLCBudWxsLCBbX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAidGV4dCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEuaW5wdXQgPSAkZXZlbnQ7CiAgICB9KQogIH0sIG51bGwsIDUxMiksIFtbX3ZNb2RlbFRleHQsICRkYXRhLmlucHV0LCB2b2lkIDAsIHsKICAgIHRyaW06IHRydWUKICB9XV0pLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuY3JlYXRlSGFuZGxlci5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgImNyZWF0ZSIpXSksIF9jcmVhdGVWTm9kZSgidWwiLCBudWxsLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRvcHRpb25zLmNvbnRlbnRzLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygibGkiLCB7CiAgICAgIGtleTogaXRlbS5pZAogICAgfSwgW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhpdGVtLmNvbnRlbnQpICsgIiAiLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICByZXR1cm4gJG9wdGlvbnMudXBkYXRlSGFuZGxlcihpbmRleCk7CiAgICAgIH0KICAgIH0sICJ1cGRhdGEiLCA4LCBbIm9uQ2xpY2siXSksIF9jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5kZWxldGVIYW5kbGVyKGluZGV4KTsKICAgICAgfQogICAgfSwgImRlbGV0ZSIsIDgsIFsib25DbGljayJdKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl92aWV3KV0pOwp9"},{"version":3,"sources":["/Users/mei/github/vue3/src/components/Api/ApiList.vue"],"names":[],"mappings":";;AACO,EAAA,EAAE,EAAC;;;;;uBAAR,YAAA,CAWM,KAXN,EAAA,UAAA,EAWM,CATJ,YAAA,CAA+F,GAA/F,EAA+F,IAA/F,EAA+F,C,gBAA5F,YAAA,CAA0C,OAA1C,EAA0C;AAAnC,IAAA,IAAI,EAAC,MAA8B;;aAAT,KAAA,CAAA,KAAA,GAAK,M;;AAAI,GAA1C,E,IAAA,E,GAAA,C,iBAAiC,KAAA,CAAA,K;UAAd;MAAyE,EAAlD,YAAA,CAA8C,QAA9C,EAA8C;AAArC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,aAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAAgC,GAA9C,EAA+B,QAA/B,CAAkD,CAA/F,CASI,EARJ,YAAA,CAMK,IANL,EAMK,IANL,EAMK,E,kBALH,YAAA,CAIK,SAJL,EAIK,IAJL,EAIK,WAAA,CAJuB,QAAA,CAAA,QAIvB,EAJ+B,UAAxB,IAAwB,EAAlB,KAAkB,EAAb;yBAAvB,YAAA,CAIK,IAJL,EAIK;AAJkC,MAAA,GAAG,EAAE,IAAI,CAAC;AAI5C,KAJL,E,mCACI,IAAI,CAAC,O,IAAS,G,EAChB;AAAA;OAAA,YAAA,CAAqD,QAArD,EAAqD;AAA5C,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,aAAA,CAAc,KAAd,CAAF;AAAA;AAAuC,KAArD,EAAsC,QAAtC,EAA4C,CAA5C,EAA4C,CAAA,SAAA,CAA5C,C,EACA,YAAA,CAAqD,QAArD,EAAqD;AAA5C,MAAA,OAAK,EAAA,iBAAA,MAAA;AAAA,eAAE,QAAA,CAAA,aAAA,CAAc,KAAd,CAAF;AAAA;AAAuC,KAArD,EAAsC,QAAtC,EAA4C,CAA5C,EAA4C,CAAA,SAAA,CAA5C,C,CAHF,C;GAIK,CAJL,E;;AAAA,GAKG,EANL,CAQI,EADJ,YAAA,CAAe,sBAAf,CACI,CAXN,C","sourcesContent":["<template>\n  <div id=\"commentList\">\n    <!-- trim去頭尾空白 -->\n    <p><input type=\"text\" v-model.trim=\"input\" /><button @click=\"createHandler\">create</button></p>\n    <ul>\n      <li v-for=\"(item, index) in contents\" :key=\"item.id\">\n        {{item.content}}\n        <button @click=\"updateHandler(index)\">updata</button>\n        <button @click=\"deleteHandler(index)\">delete</button>\n      </li>\n    </ul>\n    <router-view />\n  </div>\n</template>\n\n<script>\nconst axios = require('axios').default\nconst apiUrl = 'http://localhost:3000/users'\nexport default {\n  data () {\n    return {\n      // contents: [],\n      input: ''\n    }\n  },\n  computed: {\n    contents () {\n      return this.$store.state.contents\n    }\n  },\n  mounted () {\n    this.$store.dispatch('contentsRead')\n    // axios.get(apiUrl).then((res) => {\n    //   // 取得資料，存入component裡data\n    //   this.contents = res.data\n    // })\n  },\n  created () {\n  },\n  methods: {\n    createHandler () {\n      if (!this.input) return false\n      // add data to axios.post\n      // api -> json-server auto reload -> data change -> live server (error) -> close live server json file\n      axios.post(apiUrl, {\n        content: this.input\n      }).then((res) => {\n        this.input = ''\n        // this.contents.push(res.data)\n        // 1.action->mutations or 2.mutations(v)\n        this.$store.commit('addContents', res.data)\n      })\n    },\n    deleteHandler (id) {\n      // axios.delete(`http://localhost:3000/users/${this.contents[id].id}`).then((res) => {\n      //   this.contents.splice(id, 1)\n      // })\n      // 1.action->mutations(v) or 2.mutations\n      const target = this.contents[id]\n      this.$store.dispatch('contentDelete', { target })\n    },\n    updateHandler (id) {\n      // 需頁面轉換，透過router\n      const target = this.contents[id]\n      // this.$router.push({ path: '/vue3/Api/update/' + target.id }) // 會有上下頁紀錄\n      this.$router.push({ name: 'ApiEdit', params: { id: target.id } }) // 會有上下頁紀錄\n      // this.$router.replace({ path: `/vue3/Api/update/${target.id}` })\n      // axios.update(`http://localhost:3000/users/${this.contents[id].id}`).then((res) => {\n      //   this.contents.splice(id, 1)\n      //   console.log(res)\n      // })\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}